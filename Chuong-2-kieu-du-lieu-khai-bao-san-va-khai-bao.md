# Ch∆∞∆°ng 2. C√°c Ki·ªÉu D·ªØ Li·ªáu Khai B√°o S·∫µn v√† Khai B√°o Bi·∫øn

B√¢y gi·ªù khi b·∫°n ƒë√£ thi·∫øt l·∫≠p xong m√¥i tr∆∞·ªùng ph√°t tri·ªÉn, ƒë√£ ƒë·∫øn l√∫c b·∫Øt ƒë·∫ßu t√¨m hi·ªÉu c√°c ƒë·∫∑c ƒëi·ªÉm c·ªßa ng√¥n ng·ªØ Go v√† c√°ch s·ª≠ d·ª•ng ch√∫ng m·ªôt c√°ch hi·ªáu qu·∫£ nh·∫•t. Khi c·ªë g·∫Øng x√°c ƒë·ªãnh th·∫ø n√†o l√† ‚Äút·ªët nh·∫•t‚Äù, c√≥ m·ªôt nguy√™n t·∫Øc xuy√™n su·ªët: **h√£y vi·∫øt ch∆∞∆°ng tr√¨nh sao cho √Ω ƒë·ªãnh c·ªßa b·∫°n ƒë∆∞·ª£c th·ªÉ hi·ªán r√µ r√†ng**. Khi t√¥i l·∫ßn l∆∞·ª£t tr√¨nh b√†y c√°c t√≠nh nƒÉng v√† c√°c l·ª±a ch·ªçn kh√°c nhau, t√¥i s·∫Ω gi·∫£i th√≠ch v√¨ sao t√¥i cho r·∫±ng m·ªôt c√°ch ti·∫øp c·∫≠n c·ª• th·ªÉ s·∫Ω t·∫°o ra m√£ ngu·ªìn r√µ r√†ng h∆°n.

T√¥i s·∫Ω b·∫Øt ƒë·∫ßu b·∫±ng vi·ªác xem x√©t c√°c ki·ªÉu d·ªØ li·ªáu ƒë∆∞·ª£c x√¢y d·ª±ng s·∫µn trong Go v√† c√°ch khai b√°o bi·∫øn v·ªõi nh·ªØng ki·ªÉu ƒë√≥. M·∫∑c d√π m·ªçi l·∫≠p tr√¨nh vi√™n ƒë·ªÅu ƒë√£ quen v·ªõi c√°c kh√°i ni·ªám n√†y, Go v·∫´n c√≥ nh·ªØng ƒëi·ªÉm kh√°c bi·ªát, v√† t·ªìn t·∫°i nhi·ªÅu kh√°c bi·ªát tinh t·∫ø gi·ªØa Go v√† c√°c ng√¥n ng·ªØ kh√°c.

---

## C√°c Ki·ªÉu D·ªØ Li·ªáu Khai B√°o S·∫µn (Predeclared Types)

Go c√≥ r·∫•t nhi·ªÅu ki·ªÉu d·ªØ li·ªáu ƒë∆∞·ª£c t√≠ch h·ª£p s·∫µn trong ng√¥n ng·ªØ. Ch√∫ng ƒë∆∞·ª£c g·ªçi l√† **predeclared types** (c√°c ki·ªÉu khai b√°o s·∫µn). Ch√∫ng t∆∞∆°ng t·ª± c√°c ki·ªÉu d·ªØ li·ªáu trong nhi·ªÅu ng√¥n ng·ªØ kh√°c: boolean, s·ªë nguy√™n, s·ªë th·ª±c v√† chu·ªói. Vi·ªác s·ª≠ d·ª•ng c√°c ki·ªÉu d·ªØ li·ªáu n√†y theo phong c√°ch Go (idiomatic Go) ƒë√¥i khi l√† m·ªôt th·ª≠ th√°ch ƒë·ªëi v·ªõi c√°c l·∫≠p tr√¨nh vi√™n chuy·ªÉn t·ª´ ng√¥n ng·ªØ kh√°c sang.

Trong ph·∫ßn n√†y, b·∫°n s·∫Ω t√¨m hi·ªÉu c√°c ki·ªÉu d·ªØ li·ªáu n√†y v√† c√°ch ch√∫ng ho·∫°t ƒë·ªông hi·ªáu qu·∫£ nh·∫•t trong Go. Tr∆∞·ªõc khi ƒëi v√†o t·ª´ng ki·ªÉu c·ª• th·ªÉ, h√£y c√πng t√¨m hi·ªÉu m·ªôt s·ªë kh√°i ni·ªám √°p d·ª•ng cho **t·∫•t c·∫£** c√°c ki·ªÉu d·ªØ li·ªáu.

---

## Gi√° Tr·ªã Zero (Zero Value)

Go, gi·ªëng nh∆∞ h·∫ßu h·∫øt c√°c ng√¥n ng·ªØ hi·ªán ƒë·∫°i, g√°n m·ªôt **gi√° tr·ªã zero m·∫∑c ƒë·ªãnh** cho m·ªçi bi·∫øn ƒë∆∞·ª£c khai b√°o nh∆∞ng ch∆∞a ƒë∆∞·ª£c g√°n gi√° tr·ªã. Vi·ªác c√≥ m·ªôt gi√° tr·ªã zero r√µ r√†ng gi√∫p m√£ ngu·ªìn d·ªÖ hi·ªÉu h∆°n v√† lo·∫°i b·ªè m·ªôt ngu·ªìn l·ªói ph·ªï bi·∫øn v·ªën t·ªìn t·∫°i trong c√°c ch∆∞∆°ng tr√¨nh C v√† C++.

Khi th·∫£o lu·∫≠n v·ªÅ t·ª´ng ki·ªÉu d·ªØ li·ªáu, t√¥i c≈©ng s·∫Ω ƒë·ªÅ c·∫≠p ƒë·∫øn gi√° tr·ªã zero t∆∞∆°ng ·ª©ng c·ªßa ki·ªÉu ƒë√≥. B·∫°n c√≥ th·ªÉ xem chi ti·∫øt v·ªÅ gi√° tr·ªã zero trong *The Go Programming Language Specification*.

---

## Literal

Trong Go, **literal** l√† m·ªôt gi√° tr·ªã s·ªë, k√Ω t·ª± ho·∫∑c chu·ªói ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh tr·ª±c ti·∫øp trong m√£ ngu·ªìn. C√°c ch∆∞∆°ng tr√¨nh Go th∆∞·ªùng s·ª≠ d·ª•ng b·ªën lo·∫°i literal ph·ªï bi·∫øn. (M·ªôt lo·∫°i literal hi·∫øm h∆°n s·∫Ω ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p khi n√≥i v·ªÅ s·ªë ph·ª©c.)

### Literal S·ªë Nguy√™n (Integer Literal)

Literal s·ªë nguy√™n l√† m·ªôt chu·ªói c√°c ch·ªØ s·ªë. M·∫∑c ƒë·ªãnh, literal s·ªë nguy√™n ·ªü h·ªá c∆° s·ªë 10. Tuy nhi√™n, b·∫°n c√≥ th·ªÉ d√πng c√°c ti·ªÅn t·ªë kh√°c ƒë·ªÉ ch·ªâ ƒë·ªãnh h·ªá c∆° s·ªë:

* `0b` ho·∫∑c `0B`: nh·ªã ph√¢n (c∆° s·ªë 2)
* `0o` ho·∫∑c `0O`: b√°t ph√¢n (c∆° s·ªë 8)
* `0x` ho·∫∑c `0X`: th·∫≠p l·ª•c ph√¢n (c∆° s·ªë 16)

M·ªôt s·ªë nguy√™n b·∫Øt ƒë·∫ßu b·∫±ng `0` nh∆∞ng kh√¥ng c√≥ ch·ªØ theo sau c≈©ng bi·ªÉu di·ªÖn b√°t ph√¢n ‚Äî **kh√¥ng n√™n d√πng**, v√¨ r·∫•t d·ªÖ g√¢y nh·∫ßm l·∫´n.

ƒê·ªÉ d·ªÖ ƒë·ªçc c√°c s·ªë nguy√™n d√†i, Go cho ph√©p ch√®n d·∫•u g·∫°ch d∆∞·ªõi (`_`) v√†o gi·ªØa literal. V√≠ d·ª•, b·∫°n c√≥ th·ªÉ nh√≥m theo h√†ng ngh√¨n trong h·ªá c∆° s·ªë 10 (`1_234`). C√°c d·∫•u g·∫°ch d∆∞·ªõi n√†y **kh√¥ng ·∫£nh h∆∞·ªüng** ƒë·∫øn gi√° tr·ªã c·ªßa s·ªë.

Quy t·∫Øc ƒë·ªëi v·ªõi d·∫•u `_`:

* Kh√¥ng ƒë∆∞·ª£c ·ªü ƒë·∫ßu ho·∫∑c cu·ªëi s·ªë
* Kh√¥ng ƒë∆∞·ª£c ƒë·∫∑t li√™n ti·∫øp nhau

V·ªÅ m·∫∑t k·ªπ thu·∫≠t, b·∫°n c√≥ th·ªÉ vi·∫øt `1_2_3_4`, nh∆∞ng **ƒë·ª´ng l√†m v·∫≠y**. H√£y d√πng `_` ƒë·ªÉ c·∫£i thi·ªán kh·∫£ nƒÉng ƒë·ªçc: nh√≥m theo h√†ng ngh√¨n ·ªü h·ªá c∆° s·ªë 10, ho·∫∑c theo ranh gi·ªõi 1, 2 ho·∫∑c 4 byte ƒë·ªëi v·ªõi s·ªë nh·ªã ph√¢n, b√°t ph√¢n ho·∫∑c th·∫≠p l·ª•c ph√¢n.

---

### Literal S·ªë Th·ª±c (Floating-Point Literal)

Literal s·ªë th·ª±c c√≥ d·∫•u ch·∫•m th·∫≠p ph√¢n ƒë·ªÉ bi·ªÉu th·ªã ph·∫ßn l·∫ª. Ch√∫ng c≈©ng c√≥ th·ªÉ c√≥ s·ªë m≈©, ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh b·∫±ng ch·ªØ `e` k√®m theo m·ªôt s·ªë d∆∞∆°ng ho·∫∑c √¢m (v√≠ d·ª•: `6.03e23`).

B·∫°n c≈©ng c√≥ th·ªÉ vi·∫øt s·ªë th·ª±c ·ªü d·∫°ng th·∫≠p l·ª•c ph√¢n b·∫±ng c√°ch d√πng ti·ªÅn t·ªë `0x` v√† ch·ªØ `p` ƒë·ªÉ ch·ªâ ƒë·ªãnh s·ªë m≈©:

```text
0x12.34p5  // t∆∞∆°ng ƒë∆∞∆°ng 582.5 ·ªü h·ªá c∆° s·ªë 10
```

Gi·ªëng nh∆∞ literal s·ªë nguy√™n, b·∫°n c√≥ th·ªÉ d√πng d·∫•u `_` ƒë·ªÉ ƒë·ªãnh d·∫°ng literal s·ªë th·ª±c cho d·ªÖ ƒë·ªçc.

---

### Literal Rune

Literal rune bi·ªÉu di·ªÖn m·ªôt k√Ω t·ª± v√† ƒë∆∞·ª£c bao quanh b·ªüi **d·∫•u nh√°y ƒë∆°n** (`'`). Kh√¥ng gi·ªëng nhi·ªÅu ng√¥n ng·ªØ kh√°c, trong Go, d·∫•u nh√°y ƒë∆°n v√† nh√°y k√©p **kh√¥ng th·ªÉ ho√°n ƒë·ªïi cho nhau**.

Rune literal c√≥ th·ªÉ ƒë∆∞·ª£c vi·∫øt d∆∞·ªõi nhi·ªÅu d·∫°ng:

* K√Ω t·ª± Unicode ƒë∆°n: `'a'`
* S·ªë b√°t ph√¢n 8-bit: `'\141'`
* S·ªë th·∫≠p l·ª•c ph√¢n 8-bit: `'\x61'`
* S·ªë th·∫≠p l·ª•c ph√¢n 16-bit: `'\u0061'`
* S·ªë Unicode 32-bit: `'\U00000061'`

Ngo√†i ra c√≤n c√≥ c√°c rune literal escape ph·ªï bi·∫øn:

* `\n` ‚Äì xu·ªëng d√≤ng
* `\t` ‚Äì tab
* `\'` ‚Äì d·∫•u nh√°y ƒë∆°n
* `\\` ‚Äì d·∫•u g·∫°ch ch√©o ng∆∞·ª£c

Trong th·ª±c t·∫ø, h√£y ∆∞u ti√™n d√πng h·ªá c∆° s·ªë 10 cho literal s·ªë nguy√™n v√† s·ªë th·ª±c. B√°t ph√¢n hi·∫øm khi ƒë∆∞·ª£c d√πng, ch·ªß y·∫øu ƒë·ªÉ bi·ªÉu di·ªÖn quy·ªÅn POSIX (v√≠ d·ª•: `0o777` cho `rwxrwxrwx`). Th·∫≠p l·ª•c ph√¢n v√† nh·ªã ph√¢n th∆∞·ªùng xu·∫•t hi·ªán trong c√°c thao t√°c bit, m·∫°ng ho·∫∑c h·∫° t·∫ßng. Tr√°nh d√πng c√°c d·∫°ng escape s·ªë cho rune literal, tr·ª´ khi ch√∫ng gi√∫p m√£ ngu·ªìn r√µ r√†ng h∆°n trong ng·ªØ c·∫£nh c·ª• th·ªÉ.

---

### Literal Chu·ªói (String Literal)

C√≥ hai c√°ch ƒë·ªÉ bi·ªÉu di·ªÖn literal chu·ªói trong Go.

#### Chu·ªói Th√¥ng D·ªãch (Interpreted String Literal)

C√°ch ph·ªï bi·∫øn nh·∫•t l√† d√πng **d·∫•u nh√°y k√©p** (`"`). ƒê√¢y l√† chu·ªói th√¥ng d·ªãch, ch·ª©a zero ho·∫∑c nhi·ªÅu rune literal. Ch√∫ng ƒë∆∞·ª£c g·ªçi l√† ‚Äúth√¥ng d·ªãch‚Äù v√¨ c√°c escape sequence v√† rune literal s·∫Ω ƒë∆∞·ª£c chuy·ªÉn th√†nh k√Ω t·ª± t∆∞∆°ng ·ª©ng.

V√≠ d·ª•:

```go
"Greetings and Salutations"
```

> **L∆ØU √ù**
> Escape cho d·∫•u nh√°y ƒë∆°n (`\'`) **kh√¥ng h·ª£p l·ªá** trong string literal. Thay v√†o ƒë√≥, Go d√πng escape cho nh√°y k√©p (`\"`).

Trong chu·ªói th√¥ng d·ªãch, c√°c k√Ω t·ª± **kh√¥ng ƒë∆∞·ª£c ph√©p xu·∫•t hi·ªán n·∫øu kh√¥ng escape** l√†:

* D·∫•u g·∫°ch ch√©o ng∆∞·ª£c (`\`)
* Xu·ªëng d√≤ng
* D·∫•u nh√°y k√©p (`"`)

V√≠ d·ª•, n·∫øu b·∫°n mu·ªën chu·ªói hi·ªÉn th·ªã xu·ªëng d√≤ng v√† c√≥ ch·ªØ trong ngo·∫∑c k√©p:

```go
"Greetings and\n\"Salutations\""
```

---

#### Chu·ªói Th√¥ (Raw String Literal)

N·∫øu b·∫°n c·∫ßn bao g·ªìm d·∫•u g·∫°ch ch√©o ng∆∞·ª£c, nh√°y k√©p ho·∫∑c xu·ªëng d√≤ng, **raw string literal** s·∫Ω ƒë∆°n gi·∫£n h∆°n. Ch√∫ng ƒë∆∞·ª£c bao quanh b·ªüi **d·∫•u backquote** (`` ` ``) v√† c√≥ th·ªÉ ch·ª©a b·∫•t k·ª≥ k√Ω t·ª± n√†o, ngo·∫°i tr·ª´ ch√≠nh d·∫•u backquote.

Raw string literal **kh√¥ng c√≥ escape character**; m·ªçi k√Ω t·ª± ƒë∆∞·ª£c gi·ªØ nguy√™n nh∆∞ b·∫°n vi·∫øt.

V√≠ d·ª•:

```go
`Greetings and
"Salutations"`
```

---

## Literal L√† Kh√¥ng C√≥ Ki·ªÉu (Untyped)

C√°c literal trong Go ƒë∆∞·ª£c xem l√† **kh√¥ng c√≥ ki·ªÉu**. T√¥i s·∫Ω ph√¢n t√≠ch k·ªπ h∆°n kh√°i ni·ªám n√†y trong ph·∫ßn *‚ÄúLiterals Are Untyped‚Äù*. Nh∆∞ b·∫°n s·∫Ω th·∫•y trong ph·∫ßn *‚Äúvar Versus :=‚Äù*, c√≥ nh·ªØng t√¨nh hu·ªëng trong Go m√† ki·ªÉu d·ªØ li·ªáu kh√¥ng ƒë∆∞·ª£c khai b√°o t∆∞·ªùng minh.

Trong c√°c tr∆∞·ªùng h·ª£p ƒë√≥, Go s·∫Ω s·ª≠ d·ª•ng **ki·ªÉu m·∫∑c ƒë·ªãnh** cho literal. N·∫øu trong bi·ªÉu th·ª©c kh√¥ng c√≥ y·∫øu t·ªë n√†o ch·ªâ r√µ ki·ªÉu c·ªßa literal, Go s·∫Ω t·ª± g√°n ki·ªÉu m·∫∑c ƒë·ªãnh. T√¥i s·∫Ω ƒë·ªÅ c·∫≠p ƒë·∫øn ki·ªÉu m·∫∑c ƒë·ªãnh c·ªßa c√°c literal khi th·∫£o lu·∫≠n v·ªÅ t·ª´ng predeclared type c·ª• th·ªÉ.

## Boolean

Ki·ªÉu `bool` bi·ªÉu di·ªÖn c√°c bi·∫øn logic (Boolean). Bi·∫øn ki·ªÉu `bool` ch·ªâ c√≥ th·ªÉ nh·∫≠n m·ªôt trong hai gi√° tr·ªã: `true` ho·∫∑c `false`. Gi√° tr·ªã zero c·ªßa `bool` l√† `false`:

```go
var flag bool        // kh√¥ng g√°n gi√° tr·ªã, m·∫∑c ƒë·ªãnh l√† false
var isAwesome = true
```

R·∫•t kh√≥ ƒë·ªÉ n√≥i v·ªÅ ki·ªÉu d·ªØ li·ªáu m√† kh√¥ng nh·∫Øc ƒë·∫øn khai b√°o bi·∫øn, v√† ng∆∞·ª£c l·∫°i. T√¥i s·∫Ω s·ª≠ d·ª•ng khai b√°o bi·∫øn tr∆∞·ªõc v√† gi·∫£i th√≠ch chi ti·∫øt h∆°n trong ph·∫ßn *‚Äúvar Versus :=‚Äù*.

---

## C√°c Ki·ªÉu S·ªë (Numeric Types)

Go c√≥ m·ªôt s·ªë l∆∞·ª£ng l·ªõn c√°c ki·ªÉu s·ªë: **12 ki·ªÉu** (v√† m·ªôt v√†i t√™n ƒë·∫∑c bi·ªát), ƒë∆∞·ª£c chia th√†nh **ba nh√≥m**. N·∫øu b·∫°n ƒë·∫øn t·ª´ m·ªôt ng√¥n ng·ªØ nh∆∞ JavaScript ‚Äì n∆°i ch·ªâ c√≥ m·ªôt ki·ªÉu s·ªë duy nh·∫•t ‚Äì th√¨ ƒëi·ªÅu n√†y c√≥ th·ªÉ tr√¥ng kh√° nhi·ªÅu. Th·ª±c t·∫ø, m·ªôt s·ªë ki·ªÉu ƒë∆∞·ª£c d√πng r·∫•t th∆∞·ªùng xuy√™n, trong khi nh·ªØng ki·ªÉu kh√°c kh√° hi·∫øm g·∫∑p.

T√¥i s·∫Ω b·∫Øt ƒë·∫ßu v·ªõi c√°c ki·ªÉu s·ªë nguy√™n, sau ƒë√≥ ƒë·∫øn s·ªë th·ª±c v√† cu·ªëi c√πng l√† ki·ªÉu s·ªë ph·ª©c r·∫•t ƒë·∫∑c bi·ªát.

---

## C√°c Ki·ªÉu S·ªë Nguy√™n (Integer Types)

Go cung c·∫•p c·∫£ s·ªë nguy√™n **c√≥ d·∫•u** v√† **kh√¥ng d·∫•u**, v·ªõi nhi·ªÅu k√≠ch th∆∞·ªõc kh√°c nhau, t·ª´ 1 ƒë·∫øn 8 byte. Ch√∫ng ƒë∆∞·ª£c li·ªát k√™ trong B·∫£ng 2-1.

### B·∫£ng 2-1. C√°c ki·ªÉu s·ªë nguy√™n trong Go

| T√™n ki·ªÉu | Ph·∫°m vi gi√° tr·ªã                              |
| -------- | -------------------------------------------- |
| int8     | ‚Äì128 ƒë·∫øn 127                                 |
| int16    | ‚Äì32768 ƒë·∫øn 32767                             |
| int32    | ‚Äì2147483648 ƒë·∫øn 2147483647                   |
| int64    | ‚Äì9223372036854775808 ƒë·∫øn 9223372036854775807 |
| uint8    | 0 ƒë·∫øn 255                                    |
| uint16   | 0 ƒë·∫øn 65535                                  |
| uint32   | 0 ƒë·∫øn 4294967295                             |
| uint64   | 0 ƒë·∫øn 18446744073709551615                   |

Gi√° tr·ªã zero c·ªßa **t·∫•t c·∫£** c√°c ki·ªÉu s·ªë nguy√™n l√† `0`.

---

## C√°c Ki·ªÉu S·ªë Nguy√™n ƒê·∫∑c Bi·ªát

Go c√≥ m·ªôt s·ªë t√™n ƒë·∫∑c bi·ªát d√†nh cho ki·ªÉu s·ªë nguy√™n.

### `byte`

`byte` l√† m·ªôt **alias** c·ªßa `uint8`. Vi·ªác g√°n, so s√°nh ho·∫∑c th·ª±c hi·ªán ph√©p to√°n gi·ªØa `byte` v√† `uint8` l√† ho√†n to√†n h·ª£p l·ªá. Tuy nhi√™n, trong m√£ Go th·ª±c t·∫ø, b·∫°n hi·∫øm khi th·∫•y `uint8`; thay v√†o ƒë√≥, h√£y d√πng `byte`.

### `int`

Ki·ªÉu `int` ph·ª• thu·ªôc v√†o ki·∫øn tr√∫c CPU:

* Tr√™n CPU 32-bit: `int` l√† s·ªë nguy√™n c√≥ d·∫•u 32-bit (gi·ªëng `int32`)
* Tr√™n h·∫ßu h·∫øt CPU 64-bit: `int` l√† s·ªë nguy√™n c√≥ d·∫•u 64-bit (gi·ªëng `int64`)

Do `int` **kh√¥ng nh·∫•t qu√°n gi·ªØa c√°c n·ªÅn t·∫£ng**, n√™n vi·ªác g√°n, so s√°nh ho·∫∑c th·ª±c hi·ªán ph√©p to√°n gi·ªØa `int` v√† `int32` ho·∫∑c `int64` **b·∫Øt bu·ªôc ph·∫£i √©p ki·ªÉu**, n·∫øu kh√¥ng s·∫Ω g√¢y l·ªói t·∫°i th·ªùi ƒëi·ªÉm bi√™n d·ªãch (xem *‚ÄúExplicit Type Conversion‚Äù*).

Literal s·ªë nguy√™n m·∫∑c ƒë·ªãnh c√≥ ki·ªÉu l√† `int`.

> **L∆ØU √ù**
> M·ªôt s·ªë ki·∫øn tr√∫c CPU 64-bit hi·∫øm g·∫∑p s·ª≠ d·ª•ng `int` 32-bit. Go h·ªó tr·ª£ ba ki·∫øn tr√∫c n√†y: `amd64p32`, `mips64p32`, v√† `mips64p32le`.

### `uint`

`uint` tu√¢n theo c√πng quy t·∫Øc v·ªõi `int`, nh∆∞ng l√† s·ªë nguy√™n **kh√¥ng d·∫•u** (gi√° tr·ªã lu√¥n ‚â• 0).

### `rune` v√† `uintptr`

Hai t√™n ƒë·∫∑c bi·ªát kh√°c l√† `rune` v√† `uintptr`.

* `rune` l√† alias c·ªßa `int32` v√† s·∫Ω ƒë∆∞·ª£c b√†n k·ªπ h∆°n trong ph·∫ßn *‚ÄúA Taste of Strings and Runes‚Äù*
* `uintptr` s·∫Ω ƒë∆∞·ª£c th·∫£o lu·∫≠n trong Ch∆∞∆°ng 16

---

## Ch·ªçn Ki·ªÉu S·ªë Nguy√™n Ph√π H·ª£p

V·ªõi nhi·ªÅu l·ª±a ch·ªçn nh∆∞ v·∫≠y, b·∫°n c√≥ th·ªÉ t·ª± h·ªèi khi n√†o n√™n d√πng ki·ªÉu n√†o. H√£y tu√¢n theo **ba quy t·∫Øc ƒë∆°n gi·∫£n** sau:

1. N·∫øu b·∫°n l√†m vi·ªác v·ªõi ƒë·ªãnh d·∫°ng file nh·ªã ph√¢n ho·∫∑c giao th·ª©c m·∫°ng c√≥ quy ƒë·ªãnh r√µ k√≠ch th∆∞·ªõc ho·∫∑c d·∫•u c·ªßa s·ªë nguy√™n, h√£y d√πng **ki·ªÉu t∆∞∆°ng ·ª©ng**.
2. N·∫øu b·∫°n ƒëang vi·∫øt m·ªôt h√†m th∆∞ vi·ªán c·∫ßn ho·∫°t ƒë·ªông v·ªõi **m·ªçi ki·ªÉu s·ªë nguy√™n**, h√£y t·∫≠n d·ª•ng **generics** c·ªßa Go v√† d√πng tham s·ªë ki·ªÉu t·ªïng qu√°t.
3. Trong **m·ªçi tr∆∞·ªùng h·ª£p c√≤n l·∫°i**, h√£y d√πng `int`.

> **L∆ØU √ù**
> Trong m√£ Go c≈©, b·∫°n c√≥ th·ªÉ g·∫∑p hai h√†m g·∫ßn nh∆∞ gi·ªëng nhau, m·ªôt d√πng `int64`, m·ªôt d√πng `uint64`. ƒêi·ªÅu n√†y xu·∫•t ph√°t t·ª´ th·ªùi ƒëi·ªÉm Go **ch∆∞a c√≥ generics**. Khi ƒë√≥, ƒë·ªÉ h·ªó tr·ª£ nhi·ªÅu ki·ªÉu, ng∆∞·ªùi ta bu·ªôc ph·∫£i vi·∫øt nhi·ªÅu h√†m kh√°c nhau. V√≠ d·ª• ƒëi·ªÉn h√¨nh l√† `strconv.FormatInt` v√† `strconv.FormatUint` trong th∆∞ vi·ªán chu·∫©n.

---

## To√°n T·ª≠ S·ªë Nguy√™n

C√°c s·ªë nguy√™n trong Go h·ªó tr·ª£ c√°c to√°n t·ª≠ s·ªë h·ªçc quen thu·ªôc:

* `+`, `-`, `*`, `/`
* `%` (chia l·∫•y d∆∞)

K·∫øt qu·∫£ c·ªßa ph√©p chia s·ªë nguy√™n l√† **s·ªë nguy√™n**. N·∫øu b·∫°n mu·ªën k·∫øt qu·∫£ l√† s·ªë th·ª±c, b·∫°n ph·∫£i **√©p ki·ªÉu** sang s·ªë th·ª±c tr∆∞·ªõc khi chia. Chia cho 0 s·∫Ω g√¢y ra **panic**.

> **L∆ØU √ù**
> Ph√©p chia s·ªë nguy√™n trong Go lu√¥n **c·∫Øt v·ªÅ 0** (truncation toward zero).

B·∫°n c√≥ th·ªÉ k·∫øt h·ª£p c√°c to√°n t·ª≠ v·ªõi `=`: `+=`, `-=`, `*=`, `/=`, `%=`.

```go
var x int = 10
x *= 2 // x = 20
```

So s√°nh s·ªë nguy√™n b·∫±ng: `==`, `!=`, `>`, `>=`, `<`, `<=`.

Go c≈©ng h·ªó tr·ª£ c√°c to√°n t·ª≠ thao t√°c bit:

* D·ªãch bit: `<<`, `>>`
* To√°n t·ª≠ bit: `&` (AND), `|` (OR), `^` (XOR), `&^` (AND NOT)

T·∫•t c·∫£ ƒë·ªÅu c√≥ th·ªÉ k·∫øt h·ª£p v·ªõi `=`: `&=`, `|=`, `^=`, `&^=`, `<<=`, `>>=`.

---

## C√°c Ki·ªÉu S·ªë Th·ª±c (Floating-Point Types)

Go c√≥ hai ki·ªÉu s·ªë th·ª±c, ƒë∆∞·ª£c li·ªát k√™ trong B·∫£ng 2-2.

### B·∫£ng 2-2. C√°c ki·ªÉu s·ªë th·ª±c trong Go

| T√™n ki·ªÉu | Gi√° tr·ªã tuy·ªát ƒë·ªëi l·ªõn nh·∫•t | Gi√° tr·ªã tuy·ªát ƒë·ªëi nh·ªè nh·∫•t (kh√°c 0) |
| -------- | -------------------------- | ----------------------------------- |
| float32  | 3.4028234663852886e+38     | 1.401298464324817e-45               |
| float64  | 1.7976931348623157e+308    | 4.940656458412465e-324              |

Gi√° tr·ªã zero c·ªßa c√°c ki·ªÉu s·ªë th·ª±c l√† `0`.

Go s·ª≠ d·ª•ng chu·∫©n **IEEE 754**, gi·ªëng h·∫ßu h·∫øt c√°c ng√¥n ng·ªØ kh√°c. Vi·ªác ch·ªçn ki·ªÉu r·∫•t ƒë∆°n gi·∫£n: **tr·ª´ khi c·∫ßn t∆∞∆°ng th√≠ch ƒë·ªãnh d·∫°ng c≈©, h√£y d√πng `float64`**. Literal s·ªë th·ª±c m·∫∑c ƒë·ªãnh c≈©ng c√≥ ki·ªÉu `float64`.

`float32` ch·ªâ c√≥ ƒë·ªô ch√≠nh x√°c kho·∫£ng 6‚Äì7 ch·ªØ s·ªë th·∫≠p ph√¢n, trong khi `float64` ch√≠nh x√°c h∆°n. ƒê·ª´ng lo v·ªÅ kh√°c bi·ªát b·ªô nh·ªõ tr·ª´ khi profiling cho th·∫•y ƒë√¢y l√† v·∫•n ƒë·ªÅ th·ª±c s·ª±.

### C√≥ n√™n d√πng s·ªë th·ª±c kh√¥ng?

Trong nhi·ªÅu tr∆∞·ªùng h·ª£p, c√¢u tr·∫£ l·ªùi l√† **kh√¥ng**. S·ªë th·ª±c **kh√¥ng bi·ªÉu di·ªÖn ch√≠nh x√°c** m·ªçi gi√° tr·ªã; ch√∫ng ch·ªâ l∆∞u gi√° tr·ªã g·∫ßn ƒë√∫ng. V√¨ v·∫≠y, ch·ªâ n√™n d√πng khi s·ª± x·∫•p x·ªâ l√† ch·∫•p nh·∫≠n ƒë∆∞·ª£c, v√≠ d·ª•:

* ƒê·ªì h·ªça
* Th·ªëng k√™
* T√≠nh to√°n khoa h·ªçc

> ‚ö†Ô∏è **C·∫¢NH B√ÅO**
> S·ªë th·ª±c **kh√¥ng th·ªÉ bi·ªÉu di·ªÖn ch√≠nh x√°c gi√° tr·ªã th·∫≠p ph√¢n**. **Kh√¥ng d√πng ch√∫ng ƒë·ªÉ bi·ªÉu di·ªÖn ti·ªÅn t·ªá** ho·∫∑c b·∫•t k·ª≥ gi√° tr·ªã n√†o y√™u c·∫ßu ƒë·ªô ch√≠nh x√°c tuy·ªát ƒë·ªëi.

---

## IEEE 754

Go (v√† h·∫ßu h·∫øt c√°c ng√¥n ng·ªØ kh√°c) l∆∞u tr·ªØ s·ªë th·ª±c theo chu·∫©n **IEEE 754**. C√°c quy t·∫Øc c·ªßa chu·∫©n n√†y kh√° ph·ª©c t·∫°p v√† n·∫±m ngo√†i ph·∫°m vi cu·ªën s√°ch.

M·ªôt v√†i ƒëi·ªÉm ƒë√°ng ch√∫ √Ω:

* Chia m·ªôt s·ªë th·ª±c kh√°c 0 cho 0 ‚Üí `+Inf` ho·∫∑c `-Inf`
* Chia `0.0 / 0.0` ‚Üí `NaN` (Not a Number)

M·∫∑c d√π Go cho ph√©p so s√°nh s·ªë th·ª±c b·∫±ng `==` v√† `!=`, **ƒë·ª´ng l√†m v·∫≠y**. H√£y so s√°nh d·ª±a tr√™n m·ªôt sai s·ªë cho ph√©p (epsilon): ki·ªÉm tra xem hi·ªáu tuy·ªát ƒë·ªëi c·ªßa hai s·ªë c√≥ nh·ªè h∆°n epsilon hay kh√¥ng.

---

## Ki·ªÉu S·ªë Ph·ª©c (Complex Types)

Go c√≥ h·ªó tr·ª£ **s·ªë ph·ª©c** nh∆∞ m·ªôt ki·ªÉu d·ªØ li·ªáu h·∫°ng nh·∫•t, d√π r·∫•t √≠t ng∆∞·ªùi d√πng.

* `complex64`: ph·∫ßn th·ª±c v√† ·∫£o l√† `float32`
* `complex128`: ph·∫ßn th·ª±c v√† ·∫£o l√† `float64`

Khai b√°o b·∫±ng h√†m built-in `complex`:

```go
var complexNum = complex(20.3, 10.2)
```

Quy t·∫Øc suy lu·∫≠n ki·ªÉu:

* Hai literal kh√¥ng ki·ªÉu ‚Üí `complex128`
* Hai `float32` ‚Üí `complex64`
* M·ªôt `float32` + literal v·ª´a `float32` ‚Üí `complex64`
* C√°c tr∆∞·ªùng h·ª£p c√≤n l·∫°i ‚Üí `complex128`

Gi√° tr·ªã zero c·ªßa s·ªë ph·ª©c l√† `(0 + 0i)`.

C√°c to√°n t·ª≠ s·ªë th·ª±c ƒë·ªÅu ho·∫°t ƒë·ªông v·ªõi s·ªë ph·ª©c. C√≥ th·ªÉ d√πng `real()` v√† `imag()` ƒë·ªÉ l·∫•y ph·∫ßn th·ª±c v√† ·∫£o. Package `math/cmplx` cung c·∫•p th√™m c√°c h√†m h·ªó tr·ª£.

---

### V√≠ d·ª• 2-1. S·ªë ph·ª©c

```go
func main() {
    x := complex(2.5, 3.1)
    y := complex(10.2, 2)
    fmt.Println(x + y)
    fmt.Println(x - y)
    fmt.Println(x * y)
    fmt.Println(x / y)
    fmt.Println(real(x))
    fmt.Println(imag(x))
    fmt.Println(cmplx.Abs(x))
}
```

K·∫øt qu·∫£ ch·∫°y:

```text
(12.7+5.1i)
(-7.699999999999999+1.1i)
(19.3+36.62i)
(0.2934098482043688+0.24639022584228065i)
2.5
3.1
3.982461550347975
```

B·∫°n c√≥ th·ªÉ th·∫•y r√µ s·ª± **kh√¥ng ch√≠nh x√°c c·ªßa s·ªë th·ª±c**.

Go c√≤n h·ªó tr·ª£ **imaginary literal**, tr√¥ng gi·ªëng s·ªë th·ª±c nh∆∞ng c√≥ h·∫≠u t·ªë `i`.

M·∫∑c d√π c√≥ h·ªó tr·ª£ s·ªë ph·ª©c, Go kh√¥ng ph·ªï bi·∫øn trong t√≠nh to√°n s·ªë h·ªçc n·∫∑ng. N·∫øu c·∫ßn, b·∫°n c√≥ th·ªÉ d√πng th∆∞ vi·ªán b√™n th·ª© ba **Gonum**, nh∆∞ng n√™n c√¢n nh·∫Øc c√°c ng√¥n ng·ªØ kh√°c tr∆∞·ªõc.

---

## M·ªôt Ch√∫t V·ªÅ Chu·ªói v√† Rune

Go c√≥ ki·ªÉu `string` ƒë∆∞·ª£c t√≠ch h·ª£p s·∫µn. Gi√° tr·ªã zero c·ªßa `string` l√† chu·ªói r·ªóng (`""`). Go h·ªó tr·ª£ Unicode; b·∫°n c√≥ th·ªÉ ƒë·∫∑t b·∫•t k·ª≥ k√Ω t·ª± Unicode n√†o v√†o chu·ªói.

Chu·ªói c√≥ th·ªÉ:

* So s√°nh: `==`, `!=`, `>`, `>=`, `<`, `<=`
* N·ªëi chu·ªói b·∫±ng to√°n t·ª≠ `+`

Chu·ªói trong Go l√† **immutable**: b·∫°n c√≥ th·ªÉ g√°n l·∫°i bi·∫øn chu·ªói, nh∆∞ng kh√¥ng th·ªÉ thay ƒë·ªïi n·ªôi dung chu·ªói ƒë√£ t·ªìn t·∫°i.

Go c≈©ng c√≥ ki·ªÉu `rune`, ƒë·∫°i di·ªán cho **m·ªôt code point Unicode**. `rune` l√† alias c·ªßa `int32`, gi·ªëng nh∆∞ `byte` l√† alias c·ªßa `uint8`.

N·∫øu b·∫°n bi·ªÉu di·ªÖn m·ªôt k√Ω t·ª±, h√£y d√πng `rune`, kh√¥ng d√πng `int32`, ƒë·ªÉ th·ªÉ hi·ªán r√µ √Ω ƒë·ªãnh:

```go
var myFirstInitial rune = 'J' // t·ªët ‚Äì r√µ nghƒ©a
var myLastInitial int32 = 'B' // kh√¥ng n√™n ‚Äì h·ª£p l·ªá nh∆∞ng g√¢y nh·∫ßm l·∫´n
```

T√¥i s·∫Ω n√≥i nhi·ªÅu h∆°n v·ªÅ chu·ªói trong ch∆∞∆°ng ti·∫øp theo, bao g·ªìm chi ti·∫øt c√†i ƒë·∫∑t, m·ªëi quan h·ªá v·ªõi `byte` v√† `rune`, c≈©ng nh∆∞ c√°c t√≠nh nƒÉng n√¢ng cao v√† nh·ªØng c·∫°m b·∫´y th∆∞·ªùng g·∫∑p.

---

## Chuy·ªÉn ƒë·ªïi ki·ªÉu t∆∞·ªùng minh (Explicit Type Conversion)

H·∫ßu h·∫øt c√°c ng√¥n ng·ªØ c√≥ nhi·ªÅu ki·ªÉu s·ªë ƒë·ªÅu t·ª± ƒë·ªông chuy·ªÉn ƒë·ªïi t·ª´ ki·ªÉu n√†y sang ki·ªÉu kh√°c khi c·∫ßn. C∆° ch·∫ø n√†y ƒë∆∞·ª£c g·ªçi l√† **t·ª± ƒë·ªông n√¢ng ki·ªÉu** (automatic type promotion). Nghe c√≥ v·∫ª ti·ªán l·ª£i, nh∆∞ng tr√™n th·ª±c t·∫ø, c√°c quy t·∫Øc chuy·ªÉn ƒë·ªïi c√≥ th·ªÉ tr·ªü n√™n ph·ª©c t·∫°p v√† d·∫´n ƒë·∫øn nh·ªØng k·∫øt qu·∫£ kh√¥ng mong mu·ªën.

L√† m·ªôt ng√¥n ng·ªØ coi tr·ªçng **s·ª± r√µ r√†ng v·ªÅ √Ω ƒë·ªãnh** v√† **kh·∫£ nƒÉng ƒë·ªçc**, Go **kh√¥ng cho ph√©p** t·ª± ƒë·ªông n√¢ng ki·ªÉu gi·ªØa c√°c bi·∫øn. Khi ki·ªÉu c·ªßa c√°c bi·∫øn kh√¥ng kh·ªõp nhau, b·∫°n **b·∫Øt bu·ªôc ph·∫£i chuy·ªÉn ƒë·ªïi ki·ªÉu m·ªôt c√°ch t∆∞·ªùng minh**. Ngay c·∫£ c√°c s·ªë nguy√™n ho·∫∑c s·ªë th·ª±c c√≥ k√≠ch th∆∞·ªõc kh√°c nhau c≈©ng ph·∫£i ƒë∆∞·ª£c chuy·ªÉn v·ªÅ c√πng m·ªôt ki·ªÉu th√¨ m·ªõi c√≥ th·ªÉ thao t√°c v·ªõi nhau. ƒêi·ªÅu n√†y gi√∫p m√£ ngu·ªìn th·ªÉ hi·ªán r√µ r√†ng ch√≠nh x√°c ki·ªÉu d·ªØ li·ªáu b·∫°n mu·ªën d√πng m√† kh√¥ng c·∫ßn ph·∫£i ghi nh·ªõ c√°c quy t·∫Øc chuy·ªÉn ƒë·ªïi ng·∫ßm (xem V√≠ d·ª• 2-2).

### V√≠ d·ª• 2-2. Chuy·ªÉn ƒë·ªïi ki·ªÉu

```go
var x int = 10
var y float64 = 30.2
var sum1 float64 = float64(x) + y
var sum2 int = x + int(y)
fmt.Println(sum1, sum2)
```

Trong ƒëo·∫°n m√£ n√†y, b·∫°n khai b√°o b·ªën bi·∫øn:

* `x` l√† `int` v·ªõi gi√° tr·ªã 10
* `y` l√† `float64` v·ªõi gi√° tr·ªã 30.2

V√¨ hai bi·∫øn n√†y c√≥ ki·ªÉu kh√°c nhau, b·∫°n c·∫ßn chuy·ªÉn ƒë·ªïi ki·ªÉu ƒë·ªÉ c√≥ th·ªÉ c·ªông ch√∫ng l·∫°i:

* V·ªõi `sum1`, b·∫°n chuy·ªÉn `x` sang `float64`
* V·ªõi `sum2`, b·∫°n chuy·ªÉn `y` sang `int`

Khi ch·∫°y ch∆∞∆°ng tr√¨nh, k·∫øt qu·∫£ in ra s·∫Ω l√†:

```cmd
40.2 40
```

H√†nh vi t∆∞∆°ng t·ª± c≈©ng √°p d·ª•ng cho c√°c ki·ªÉu s·ªë nguy√™n c√≥ k√≠ch th∆∞·ªõc kh√°c nhau (xem V√≠ d·ª• 2-3).

### V√≠ d·ª• 2-3. Chuy·ªÉn ƒë·ªïi ki·ªÉu s·ªë nguy√™n

```go
var x int = 10
var b byte = 100
var sum3 int = x + int(b)
var sum4 byte = byte(x) + b
fmt.Println(sum3, sum4)
```

B·∫°n c√≥ th·ªÉ ch·∫°y c√°c v√≠ d·ª• n√†y tr√™n **The Go Playground** ho·∫∑c trong th∆∞ m·ª•c `sample_code/type_conversion` c·ªßa repository Chapter 2.

S·ª± nghi√™m ng·∫∑t n√†y c·ªßa Go c√≤n k√©o theo m·ªôt h·ªá qu·∫£ quan tr·ªçng kh√°c: **kh√¥ng c√≥ kh√°i ni·ªám ‚Äútruthy‚Äù**.

Trong nhi·ªÅu ng√¥n ng·ªØ, m·ªôt s·ªë kh√°c 0 ho·∫∑c m·ªôt chu·ªói kh√¥ng r·ªóng c√≥ th·ªÉ ƒë∆∞·ª£c coi l√† `true`. C√°c quy t·∫Øc n√†y kh√°c nhau gi·ªØa c√°c ng√¥n ng·ªØ v√† r·∫•t d·ªÖ g√¢y nh·∫ßm l·∫´n. Go ho√†n to√†n kh√¥ng cho ph√©p ƒëi·ªÅu ƒë√≥. Kh√¥ng c√≥ ki·ªÉu n√†o kh√°c c√≥ th·ªÉ ƒë∆∞·ª£c chuy·ªÉn th√†nh `bool`, d√π l√† ng·∫ßm ƒë·ªãnh hay t∆∞·ªùng minh.

N·∫øu b·∫°n mu·ªën t·∫°o ra m·ªôt gi√° tr·ªã boolean t·ª´ ki·ªÉu kh√°c, b·∫°n **ph·∫£i d√πng to√°n t·ª≠ so s√°nh** (`==`, `!=`, `>`, `<`, `<=`, `>=`). V√≠ d·ª•:

* Ki·ªÉm tra `x` c√≥ b·∫±ng 0 hay kh√¥ng: `x == 0`
* Ki·ªÉm tra chu·ªói `s` c√≥ r·ªóng hay kh√¥ng: `s == ""`

> **L∆∞u √Ω**
> Chuy·ªÉn ƒë·ªïi ki·ªÉu l√† m·ªôt trong nh·ªØng n∆°i Go ch·∫•p nh·∫≠n vi·∫øt d√†i h∆°n m·ªôt ch√∫t ƒë·ªÉ ƒë·ªïi l·∫•y s·ª± ƒë∆°n gi·∫£n v√† r√µ r√†ng. Go theo phong c√°ch *idiomatic* lu√¥n ∆∞u ti√™n kh·∫£ nƒÉng hi·ªÉu ƒë∆∞·ª£c h∆°n l√† s·ª± ng·∫Øn g·ªçn.

---

## Literal l√† kh√¥ng c√≥ ki·ªÉu (Literals Are Untyped)

M·∫∑c d√π b·∫°n kh√¥ng th·ªÉ c·ªông hai bi·∫øn s·ªë nguy√™n c√≥ ki·ªÉu kh√°c nhau, Go l·∫°i cho ph√©p b·∫°n d√πng **literal s·ªë nguy√™n** trong bi·ªÉu th·ª©c s·ªë th·ª±c, ho·∫∑c g√°n tr·ª±c ti·∫øp literal s·ªë nguy√™n cho bi·∫øn `float64`:

```go
var x float64 = 10
var y float64 = 200.3 * 5
```

ƒêi·ªÅu n√†y l√† v√¨ **literal trong Go kh√¥ng c√≥ ki·ªÉu**. Go l√† m·ªôt ng√¥n ng·ªØ th·ª±c t·∫ø, v√† vi·ªác tr√¨ ho√£n x√°c ƒë·ªãnh ki·ªÉu cho ƒë·∫øn khi l·∫≠p tr√¨nh vi√™n ch·ªâ r√µ l√† ho√†n to√†n h·ª£p l√Ω. Nh·ªù ƒë√≥, literal c√≥ th·ªÉ ƒë∆∞·ª£c d√πng v·ªõi b·∫•t k·ª≥ bi·∫øn n√†o c√≥ ki·ªÉu t∆∞∆°ng th√≠ch.

Sau n√†y, khi h·ªçc v·ªÅ ki·ªÉu do ng∆∞·ªùi d√πng ƒë·ªãnh nghƒ©a (Chapter 7), b·∫°n s·∫Ω th·∫•y literal th·∫≠m ch√≠ c√≤n c√≥ th·ªÉ d√πng v·ªõi c√°c ki·ªÉu t·ª± ƒë·ªãnh nghƒ©a d·ª±a tr√™n ki·ªÉu d·ª±ng s·∫µn.

Tuy nhi√™n, ‚Äúkh√¥ng c√≥ ki·ªÉu‚Äù c≈©ng c√≥ gi·ªõi h·∫°n:

* Kh√¥ng th·ªÉ g√°n literal chu·ªói cho bi·∫øn s·ªë
* Kh√¥ng th·ªÉ g√°n literal s·ªë cho bi·∫øn chu·ªói
* Kh√¥ng th·ªÉ g√°n literal s·ªë th·ª±c cho bi·∫øn `int`

T·∫•t c·∫£ c√°c tr∆∞·ªùng h·ª£p tr√™n ƒë·ªÅu b·ªã tr√¨nh bi√™n d·ªãch b√°o l·ªói. Ngo√†i ra, c√≤n c√≥ gi·ªõi h·∫°n v·ªÅ k√≠ch th∆∞·ªõc. B·∫°n c√≥ th·ªÉ vi·∫øt m·ªôt literal s·ªë r·∫•t l·ªõn, nh∆∞ng n·∫øu c·ªë g√°n n√≥ cho m·ªôt bi·∫øn kh√¥ng ch·ª©a n·ªïi gi√° tr·ªã ƒë√≥ (v√≠ d·ª• g√°n `1000` cho `byte`), tr√¨nh bi√™n d·ªãch s·∫Ω b√°o l·ªói tr√†n.

---

## var so v·ªõi :=

D√π l√† m·ªôt ng√¥n ng·ªØ nh·ªè, Go l·∫°i c√≥ kh√° nhi·ªÅu c√°ch khai b√°o bi·∫øn. L√Ω do l√† v√¨ **m·ªói c√°ch khai b√°o truy·ªÅn t·∫£i m·ªôt √Ω nghƒ©a kh√°c nhau** v·ªÅ c√°ch bi·∫øn ƒë∆∞·ª£c s·ª≠ d·ª•ng.

### Khai b√°o b·∫±ng `var`

C√°ch ƒë·∫ßy ƒë·ªß nh·∫•t l√† d√πng `var`, ch·ªâ r√µ ki·ªÉu v√† gi√° tr·ªã:

```go
var x int = 10
```

N·∫øu bi·ªÉu th·ª©c b√™n ph·∫£i ƒë√£ cho bi·∫øt r√µ ki·ªÉu, b·∫°n c√≥ th·ªÉ b·ªè ph·∫ßn ki·ªÉu b√™n tr√°i:

```go
var x = 10
```

N·∫øu b·∫°n ch·ªâ mu·ªën khai b√°o bi·∫øn v√† g√°n gi√° tr·ªã 0 m·∫∑c ƒë·ªãnh:

```go
var x int
```

B·∫°n c≈©ng c√≥ th·ªÉ khai b√°o nhi·ªÅu bi·∫øn c√πng l√∫c:

```go
var x, y int = 10, 20
var x, y int
var x, y = 10, "hello"
```

Ho·∫∑c d√πng danh s√°ch khai b√°o:

```go
var (
    x    int
    y        = 20
    z    int = 30
    d, e     = 40, "hello"
    f, g string
)
```

### Khai b√°o ng·∫Øn g·ªçn v·ªõi `:=`

B√™n trong h√†m, Go cho ph√©p b·∫°n d√πng to√°n t·ª≠ `:=` ƒë·ªÉ v·ª´a khai b√°o v·ª´a g√°n gi√° tr·ªã:

```go
var x = 10
x := 10
```

Hai d√≤ng tr√™n l√† t∆∞∆°ng ƒë∆∞∆°ng.

B·∫°n c≈©ng c√≥ th·ªÉ khai b√°o nhi·ªÅu bi·∫øn:

```go
var x, y = 10, "hello"
x, y := 10, "hello"
```

M·ªôt ƒëi·ªÉm ƒë·∫∑c bi·ªát c·ªßa `:=` l√† n√≥ cho ph√©p **k·∫øt h·ª£p bi·∫øn m·ªõi v√† bi·∫øn ƒë√£ t·ªìn t·∫°i**, mi·ªÖn l√† b√™n tr√°i c√≥ √≠t nh·∫•t m·ªôt bi·∫øn m·ªõi:

```go
x := 10
x, y := 30, "hello"
```

H·∫°n ch·∫ø c·ªßa `:=` l√† **kh√¥ng d√πng ƒë∆∞·ª£c ·ªü c·∫•p package**; ngo√†i h√†m, b·∫°n b·∫Øt bu·ªôc ph·∫£i d√πng `var`.

### Khi n√†o n√™n d√πng c√°ch n√†o?

* Trong h√†m: ∆∞u ti√™n `:=`
* Ngo√†i h√†m: d√πng `var`
* Khi kh·ªüi t·∫°o gi√° tr·ªã 0 c√≥ ch·ªß ƒë√≠ch: d√πng `var x int`
* Khi mu·ªën √©p ki·ªÉu literal v·ªÅ m·ªôt ki·ªÉu kh√¥ng ph·∫£i m·∫∑c ƒë·ªãnh: d√πng `var x byte = 20`

Do `:=` c√≥ th·ªÉ v√¥ t√¨nh t·∫°o bi·∫øn m·ªõi khi b·∫°n t∆∞·ªüng l√† ƒëang d√πng l·∫°i bi·∫øn c≈© (hi·ªán t∆∞·ª£ng *shadowing*), trong c√°c ƒëo·∫°n code ph·ª©c t·∫°p, n√™n d√πng `var` ƒë·ªÉ khai b√°o r√µ r√†ng v√† sau ƒë√≥ g√°n b·∫±ng `=`.

B·∫°n n√™n h·∫°n ch·∫ø khai b√°o bi·∫øn ·ªü c·∫•p package. Bi·∫øn to√†n c·ª•c d·ªÖ l√†m lu·ªìng d·ªØ li·ªáu kh√≥ theo d√µi v√† d·∫´n t·ªõi bug tinh vi. Quy t·∫Øc chung: **ch·ªâ khai b√°o bi·∫øn c·∫•p package n·∫øu ch√∫ng g·∫ßn nh∆∞ b·∫•t bi·∫øn**.

> **M·∫πo**
> Tr√°nh khai b√°o bi·∫øn ngo√†i h√†m v√¨ ch√∫ng l√†m ph·ª©c t·∫°p vi·ªác ph√¢n t√≠ch lu·ªìng d·ªØ li·ªáu.

---

## S·ª≠ d·ª•ng const

Trong Go, gi√° tr·ªã b·∫•t bi·∫øn ƒë∆∞·ª£c khai b√°o b·∫±ng t·ª´ kh√≥a `const`. Tho·∫°t nh√¨n, n√≥ kh√° gi·ªëng c√°c ng√¥n ng·ªØ kh√°c. V√≠ d·ª• 2-4 minh h·ªça c√°ch d√πng `const`.

### V√≠ d·ª• 2-4. Khai b√°o h·∫±ng s·ªë

```go
package main

import "fmt"

const x int64 = 10

const (
    idKey   = "id"
    nameKey = "name"
)

const z = 20 * 10

func main() {
    const y = "hello"

    fmt.Println(x)
    fmt.Println(y)

    x = x + 1 // kh√¥ng bi√™n d·ªãch ƒë∆∞·ª£c!
    y = "bye" // kh√¥ng bi√™n d·ªãch ƒë∆∞·ª£c!
}
```

Khi bi√™n d·ªãch, b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c l·ªói v√¨ `const` kh√¥ng th·ªÉ b·ªã g√°n l·∫°i.

Trong Go, `const` **ch·ªâ d√πng ƒë·ªÉ ƒë·∫∑t t√™n cho literal**. M·ªôt h·∫±ng s·ªë ch·ªâ c√≥ th·ªÉ ch·ª©a gi√° tr·ªã m√† tr√¨nh bi√™n d·ªãch x√°c ƒë·ªãnh ƒë∆∞·ª£c t·∫°i th·ªùi ƒëi·ªÉm bi√™n d·ªãch, bao g·ªìm:

* Literal s·ªë
* `true` v√† `false`
* Chu·ªói
* Rune
* Gi√° tr·ªã tr·∫£ v·ªÅ t·ª´ c√°c h√†m d·ª±ng s·∫µn nh∆∞ `complex`, `real`, `imag`, `len`, `cap`
* Bi·ªÉu th·ª©c ƒë∆∞·ª£c t·∫°o t·ª´ c√°c gi√° tr·ªã tr√™n

Go **kh√¥ng cho ph√©p** khai b√°o m·ªôt gi√° tr·ªã ƒë∆∞·ª£c t√≠nh t·∫°i runtime l√† b·∫•t bi·∫øn:

```go
x := 5
y := 10
const z = x + y // l·ªói bi√™n d·ªãch
```

Go c≈©ng kh√¥ng c√≥ m·∫£ng, slice, map hay struct b·∫•t bi·∫øn, v√† kh√¥ng th·ªÉ ƒë√°nh d·∫•u m·ªôt field l√† immutable. Tr√™n th·ª±c t·∫ø, ƒëi·ªÅu n√†y √≠t h·∫°n ch·∫ø h∆°n b·∫°n nghƒ©, v√¨ trong ph·∫°m vi h√†m, vi·ªác bi·∫øn c√≥ b·ªã thay ƒë·ªïi hay kh√¥ng l√† r·∫•t r√µ r√†ng.

> **M·∫πo**
> Trong Go, `const` ch·ªâ l√† c√°ch ƒë·∫∑t t√™n cho literal. Kh√¥ng c√≥ c∆° ch·∫ø ƒë·ªÉ khai b√°o m·ªôt bi·∫øn l√† b·∫•t bi·∫øn.

## Typed and Untyped Constants

Trong Go, **h·∫±ng s·ªë (const)** c√≥ th·ªÉ l√† **c√≥ ki·ªÉu (typed)** ho·∫∑c **kh√¥ng c√≥ ki·ªÉu (untyped)**.

* **H·∫±ng s·ªë kh√¥ng c√≥ ki·ªÉu** ho·∫°t ƒë·ªông gi·ªëng h·ªát literal: n√≥ kh√¥ng c√≥ ki·ªÉu ri√™ng, nh∆∞ng c√≥ *ki·ªÉu m·∫∑c ƒë·ªãnh* ƒë∆∞·ª£c s·ª≠ d·ª•ng khi kh√¥ng th·ªÉ suy lu·∫≠n ki·ªÉu n√†o kh√°c.
* **H·∫±ng s·ªë c√≥ ki·ªÉu** ch·ªâ c√≥ th·ªÉ ƒë∆∞·ª£c g√°n tr·ª±c ti·∫øp cho bi·∫øn c√≥ **ƒë√∫ng ki·ªÉu ƒë√≥**.

Vi·ªác n√™n d√πng h·∫±ng s·ªë c√≥ ki·ªÉu hay kh√¥ng ph·ª• thu·ªôc v√†o **m·ª•c ƒë√≠ch khai b√°o h·∫±ng s·ªë**:

* N·∫øu b·∫°n ch·ªâ mu·ªën ƒë·∫∑t t√™n cho m·ªôt **h·∫±ng s·ªë to√°n h·ªçc** v√† c√≥ kh·∫£ nƒÉng d√πng v·ªõi nhi·ªÅu ki·ªÉu s·ªë kh√°c nhau, h√£y **ƒë·ªÉ h·∫±ng s·ªë kh√¥ng c√≥ ki·ªÉu**.
* Nh√¨n chung, h·∫±ng s·ªë kh√¥ng c√≥ ki·ªÉu mang l·∫°i **t√≠nh linh ho·∫°t cao h∆°n**.
* Trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p, b·∫°n mu·ªën h·∫±ng s·ªë **√©p bu·ªôc ki·ªÉu**. M·ªôt v√≠ d·ª• ƒëi·ªÉn h√¨nh s·∫Ω xu·∫•t hi·ªán khi n√≥i v·ªÅ **enumeration v·ªõi iota** ·ªü ph·∫ßn *‚Äúiota Is for Enumerations‚ÄîSometimes‚Äù*.

### H·∫±ng s·ªë kh√¥ng c√≥ ki·ªÉu

```go
const x = 10
```

T·∫•t c·∫£ c√°c ph√©p g√°n sau ƒë·ªÅu **h·ª£p l·ªá**:

```go
var y int = x
var z float64 = x
var d byte = x
```

### H·∫±ng s·ªë c√≥ ki·ªÉu

```go
const typedX int = 10
```

H·∫±ng s·ªë n√†y **ch·ªâ** c√≥ th·ªÉ g√°n tr·ª±c ti·∫øp cho bi·∫øn ki·ªÉu `int`. N·∫øu g√°n sang ki·ªÉu kh√°c, tr√¨nh bi√™n d·ªãch s·∫Ω b√°o l·ªói, v√≠ d·ª•:

```
cannot use typedX (type int) as type float64 in assignment
```

---

## Unused Variables

M·ªôt trong nh·ªØng m·ª•c ti√™u c·ªßa Go l√† gi√∫p **c√°c nh√≥m l·ªõn** c·ªông t√°c hi·ªáu qu·∫£ khi ph√°t tri·ªÉn ph·∫ßn m·ªÅm. V√¨ v·∫≠y, Go ƒë∆∞a ra m·ªôt s·ªë quy t·∫Øc kh√° *nghi√™m ng·∫∑t* so v·ªõi nhi·ªÅu ng√¥n ng·ªØ kh√°c.

·ªû Chapter 1, b·∫°n ƒë√£ th·∫•y Go y√™u c·∫ßu format code b·∫±ng `go fmt`. M·ªôt y√™u c·∫ßu kh√°c l√†:

> **M·ªçi bi·∫øn c·ª•c b·ªô (local variable) ƒë∆∞·ª£c khai b√°o ƒë·ªÅu ph·∫£i ƒë∆∞·ª£c ƒë·ªçc (used).**

N·∫øu b·∫°n khai b√°o m·ªôt bi·∫øn c·ª•c b·ªô nh∆∞ng kh√¥ng ƒë·ªçc gi√° tr·ªã c·ªßa n√≥, ch∆∞∆°ng tr√¨nh s·∫Ω **kh√¥ng bi√™n d·ªãch ƒë∆∞·ª£c**.

### Ki·ªÉm tra bi·∫øn kh√¥ng d√πng ch∆∞a ho√†n to√†n tri·ªát ƒë·ªÉ

Tr√¨nh bi√™n d·ªãch Go **kh√¥ng ki·ªÉm tra to√†n di·ªán** t·∫•t c·∫£ c√°c tr∆∞·ªùng h·ª£p. Ch·ªâ c·∫ßn m·ªôt bi·∫øn ƒë∆∞·ª£c ƒë·ªçc **√≠t nh·∫•t m·ªôt l·∫ßn**, compiler s·∫Ω kh√¥ng ph√†n n√†n, ngay c·∫£ khi c√≥ c√°c ph√©p g√°n kh√°c kh√¥ng bao gi·ªù ƒë∆∞·ª£c d√πng.

V√≠ d·ª• sau l√† **ch∆∞∆°ng tr√¨nh Go h·ª£p l·ªá**:

```go
func main() {
    x := 10 // gi√° tr·ªã n√†y kh√¥ng bao gi·ªù ƒë∆∞·ª£c d√πng!
    x = 20
    fmt.Println(x)
    x = 30 // gi√° tr·ªã n√†y c≈©ng kh√¥ng ƒë∆∞·ª£c d√πng!
}
```

Compiler v√† `go vet` s·∫Ω **kh√¥ng ph√°t hi·ªán** hai ph√©p g√°n kh√¥ng c·∫ßn thi·∫øt l√† `10` v√† `30`. Tuy nhi√™n, c√°c c√¥ng c·ª• b√™n th·ª© ba c√≥ th·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu n√†y (s·∫Ω n√≥i ·ªü ph·∫ßn *‚ÄúUsing Code-Quality Scanners‚Äù*).

> **Note**
> Tr√¨nh bi√™n d·ªãch Go **kh√¥ng c·∫•m** vi·ªác khai b√°o bi·∫øn package-level m√† kh√¥ng d√πng. ƒê√¢y l√† m·ªôt l√Ω do n·ªØa ƒë·ªÉ b·∫°n **tr√°nh khai b√°o bi·∫øn ·ªü package-level**.

---

## Unused Constants

ƒêi·ªÅu kh√° b·∫•t ng·ªù l√† Go **cho ph√©p** khai b√°o h·∫±ng s·ªë m√† kh√¥ng s·ª≠ d·ª•ng.

L√Ω do l√† v√¨:

* H·∫±ng s·ªë ƒë∆∞·ª£c t√≠nh **t·∫°i th·ªùi ƒëi·ªÉm bi√™n d·ªãch**
* Ch√∫ng **kh√¥ng c√≥ side effect**

N·∫øu m·ªôt h·∫±ng s·ªë kh√¥ng ƒë∆∞·ª£c d√πng, n√≥ ƒë∆°n gi·∫£n l√† **kh√¥ng xu·∫•t hi·ªán trong binary cu·ªëi c√πng**.

---

## Naming Variables and Constants

C√≥ s·ª± kh√°c bi·ªát gi·ªØa:

* **Quy t·∫Øc ƒë·∫∑t t√™n h·ª£p l·ªá c·ªßa Go**
* **Quy ∆∞·ªõc ƒë·∫∑t t√™n theo phong c√°ch Go (idiomatic Go)**

### Quy t·∫Øc ng√¥n ng·ªØ

T√™n ƒë·ªãnh danh trong Go:

* Ph·∫£i b·∫Øt ƒë·∫ßu b·∫±ng **ch·ªØ c√°i ho·∫∑c d·∫•u g·∫°ch d∆∞·ªõi (_)**
* C√≥ th·ªÉ ch·ª©a ch·ªØ c√°i, ch·ªØ s·ªë v√† d·∫•u g·∫°ch d∆∞·ªõi
* Ch·ªØ c√°i v√† ch·ªØ s·ªë c√≥ th·ªÉ l√† **Unicode**, kh√¥ng ch·ªâ ASCII

ƒêi·ªÅu n√†y khi·∫øn c√°c v√≠ d·ª• sau ƒë·ªÅu l√† **Go h·ª£p l·ªá**:

```go
_0 := 0_0
_ùüô := 20
œÄ := 3
ÔΩÅ := "hello" // Unicode U+FF41
__ := "double underscore"
fmt.Println(_0)
fmt.Println(_ùüô)
fmt.Println(œÄ)
fmt.Println(ÔΩÅ)
fmt.Println(__)
```

Code tr√™n ch·∫°y ƒë∆∞·ª£c, nh∆∞ng **ƒë·ª´ng bao gi·ªù vi·∫øt code nh∆∞ v·∫≠y**.

Nh·ªØng t√™n n√†y **kh√¥ng idiomatic**, v√¨:

* Kh√≥ ƒë·ªçc
* Kh√≥ g√µ tr√™n b√†n ph√≠m
* D·ªÖ g√¢y nh·∫ßm l·∫´n, ƒë·∫∑c bi·ªát v·ªõi c√°c k√Ω t·ª± Unicode tr√¥ng gi·ªëng nhau

### Unicode look-alike ‚Äì c·ª±c k·ª≥ nguy hi·ªÉm

```go
func main() {
    ÔΩÅ := "hello"   // Unicode U+FF41
    a := "goodbye" // Unicode U+0061
    fmt.Println(ÔΩÅ)
    fmt.Println(a)
}
```

K·∫øt qu·∫£:

```
hello
goodbye
```

D√π nh√¨n g·∫ßn nh∆∞ gi·ªëng nhau, ƒë√¢y l√† **hai bi·∫øn ho√†n to√†n kh√°c**.

---

### Camel case thay v√¨ snake case

D√π d·∫•u g·∫°ch d∆∞·ªõi `_` l√† k√Ω t·ª± h·ª£p l·ªá, idiomatic Go **hi·∫øm khi d√πng snake_case** (`index_counter`).

Thay v√†o ƒë√≥, Go d√πng **camelCase**:

* `indexCounter`
* `numberTries`

> **Note**
> D·∫•u g·∫°ch d∆∞·ªõi ƒë∆°n l·∫ª (`_`) l√† m·ªôt ƒë·ªãnh danh ƒë·∫∑c bi·ªát trong Go. N√≥ s·∫Ω ƒë∆∞·ª£c gi·∫£i th√≠ch k·ªπ h∆°n ·ªü Chapter 5.

---

### ƒê·∫∑t t√™n h·∫±ng s·ªë

Nhi·ªÅu ng√¥n ng·ªØ vi·∫øt h·∫±ng s·ªë b·∫±ng **ALL_CAPS_WITH_UNDERSCORES**. Go **kh√¥ng l√†m v·∫≠y**.

L√Ω do l√† v√¨ Go d√πng **ch·ªØ c√°i ƒë·∫ßu ti√™n vi·∫øt hoa hay th∆∞·ªùng** ƒë·ªÉ quy·∫øt ƒë·ªãnh m·ªôt ƒë·ªãnh danh ·ªü package-level c√≥ ƒë∆∞·ª£c export hay kh√¥ng. ƒêi·ªÅu n√†y s·∫Ω ƒë∆∞·ª£c n√≥i l·∫°i khi h·ªçc v·ªÅ package (Chapter 10).

---

### ƒê·ªô d√†i t√™n theo ph·∫°m vi (scope)

* **Trong h√†m**: ∆∞u ti√™n t√™n ng·∫Øn
  
  * `i`, `j` cho v√≤ng l·∫∑p
  * `k`, `v` cho `for range`

* **Scope c√†ng nh·ªè ‚Üí t√™n c√†ng ng·∫Øn**

T√™n ng·∫Øn c√≥ hai l·ª£i √≠ch:

1. √çt ph·∫£i g√µ ‚Üí code g·ªçn h∆°n
2. N·∫øu b·∫°n kh√¥ng theo d√µi n·ªïi bi·∫øn t√™n ng·∫Øn ‚Üí block code ƒëang qu√° ph·ª©c t·∫°p

V·ªõi bi·∫øn **package-level**, h√£y d√πng t√™n **m√¥ t·∫£ r√µ r√†ng h∆°n**, v√¨ ph·∫°m vi s·ª≠ d·ª•ng r·ªông h∆°n.

---

## Exercises

C√°c b√†i t·∫≠p sau gi√∫p c·ªßng c·ªë ki·∫øn th·ª©c c·ªßa ch∆∞∆°ng. L·ªùi gi·∫£i n·∫±m trong repository Chapter 2.

1. Vi·∫øt ch∆∞∆°ng tr√¨nh khai b√°o bi·∫øn s·ªë nguy√™n `i` c√≥ gi√° tr·ªã 20. G√°n `i` cho bi·∫øn s·ªë th·ª±c `f`. In ra `i` v√† `f`.

2. Vi·∫øt ch∆∞∆°ng tr√¨nh khai b√°o h·∫±ng s·ªë `value` c√≥ th·ªÉ g√°n cho c·∫£ bi·∫øn s·ªë nguy√™n v√† s·ªë th·ª±c. G√°n n√≥ cho `i` (int) v√† `f` (float), r·ªìi in ra.

3. Vi·∫øt ch∆∞∆°ng tr√¨nh c√≥ ba bi·∫øn:
   
   * `b` ki·ªÉu `byte`
   * `smallI` ki·ªÉu `int32`
   * `bigI` ki·ªÉu `uint64`
   
   G√°n m·ªói bi·∫øn gi√° tr·ªã l·ªõn nh·∫•t h·ª£p l·ªá c·ªßa ki·ªÉu t∆∞∆°ng ·ª©ng, sau ƒë√≥ c·ªông th√™m 1 v√† in k·∫øt qu·∫£.

---

## Wrapping Up

B·∫°n ƒë√£ h·ªçc ƒë∆∞·ª£c r·∫•t nhi·ªÅu n·ªôi dung quan tr·ªçng trong ch∆∞∆°ng n√†y:

* C√°ch d√πng c√°c ki·ªÉu d·ªØ li·ªáu c√≥ s·∫µn
* Khai b√°o bi·∫øn v√† h·∫±ng s·ªë
* G√°n gi√° tr·ªã v√† l√†m vi·ªác v·ªõi to√°n t·ª≠

Trong ch∆∞∆°ng ti·∫øp theo, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu **c√°c ki·ªÉu d·ªØ li·ªáu t·ªïng h·ª£p (composite types)** trong Go:

* Array
* Slice
* Map
* Struct

ƒê·ªìng th·ªùi quay l·∫°i v·ªõi **string v√† rune**, v√† c√°ch ch√∫ng t∆∞∆°ng t√°c v·ªõi **encoding k√Ω t·ª±**.
